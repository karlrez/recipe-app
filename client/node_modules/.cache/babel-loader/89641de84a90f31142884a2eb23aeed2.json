{"ast":null,"code":"var _jsxFileName = \"/home/karl/vscode/recipe-app/src/Components/CreateUser/CreateUser.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport classes from \"./CreateUser.module.css\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\n\nclass CreateUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: null,\n      username: null,\n      full_name: null,\n      title: null,\n      password: null,\n      password2: null,\n      bio: null,\n      error: false,\n      showHideSignUpButton: false\n    };\n\n    this.handleChange = event => {\n      let formValues = this.state;\n      let name = event.target.name;\n      let value = event.target.value;\n      formValues[name] = value;\n      this.setState({\n        formValues\n      });\n\n      if (this.state.password !== this.state.password2) {\n        this.setState({\n          error: true\n        });\n      } else this.setState({\n        error: false\n      });\n    };\n\n    this.handleImageChange = e => {\n      this.setState({\n        profile_pic: e.target.files[0],\n        imagePreview: URL.createObjectURL(e.target.files[0])\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n\n      if (this.state.password !== this.state.password2) {\n        return;\n      }\n\n      let form_data = new FormData();\n      form_data.append(\"email\", this.state.email);\n      form_data.append(\"username\", this.state.username);\n      if (this.state.full_name) form_data.append(\"full_name\", this.state.full_name);\n      if (this.state.title) form_data.append(\"title\", this.state.title);\n      form_data.append(\"password\", this.state.password);\n      if (this.state.bio) form_data.append(\"bio\", this.state.bio);\n      if (this.state.profile_pic) form_data.append(\"profile_pic\", this.state.profile_pic);\n      this.props.createUser(form_data);\n    };\n  }\n\n  render() {\n    let errorMessage;\n\n    if (this.state.error) {\n      errorMessage = /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 22\n        }\n      }, \"Passwords do not match\");\n    }\n\n    let errorMessage2;\n\n    if (this.props.loading) {\n      errorMessage2 = /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      });\n    }\n\n    if (this.props.error) {\n      errorMessage2 = /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 23\n        }\n      }, this.props.error);\n    } else if (this.props.redirect) {\n      errorMessage2 = /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.errorMessage,\n        onClick: this.props.hideSignUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, \"Success! \", /*#__PURE__*/React.createElement(NavLink, {\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 20\n        }\n      }, \"Go to login\"));\n    }\n\n    let redirect = null;\n\n    if (this.props.redirect) {\n      redirect = /*#__PURE__*/React.createElement(Redirect, {\n        to: this.props.redirect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 18\n        }\n      });\n    }\n\n    let imagePreview = null;\n\n    if (this.state.imagePreview) {\n      imagePreview = /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.imagePreview,\n        alt: \"preview\",\n        className: classes.ImgPreview,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, redirect, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      className: classes.CreateUserForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      type: \"email\",\n      name: \"email\",\n      required: true,\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      name: \"username\",\n      required: true,\n      placeholder: \"username\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      name: \"full_name\",\n      placeholder: \"Full Name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      name: \"title\",\n      placeholder: \" Title: Head Chef, Master Cook, etc\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      type: \"password\",\n      name: \"password\",\n      required: true,\n      placeholder: \"password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      type: \"password\",\n      name: \"password2\",\n      required: true,\n      placeholder: \"Confirm Password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, errorMessage), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: classes.formInput,\n      rows: \"6\",\n      name: \"bio\",\n      placeholder: \"A short bio\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, \"Profile Pic\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }), imagePreview, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: classes.formInput,\n      name: \"profile_pic\",\n      type: \"file\",\n      accept: \"image/png, image/jpeg\",\n      onChange: this.handleImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, errorMessage2), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.submitDiv,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: classes.submitBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    error: state.createUser.error,\n    redirect: state.createUser.redirectPath,\n    loading: state.createUser.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createUser: data => dispatch(actions.createUser(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUser);","map":{"version":3,"sources":["/home/karl/vscode/recipe-app/src/Components/CreateUser/CreateUser.js"],"names":["React","Component","connect","actions","NavLink","Redirect","classes","Spinner","CreateUser","state","email","username","full_name","title","password","password2","bio","error","showHideSignUpButton","handleChange","event","formValues","name","target","value","setState","handleImageChange","e","profile_pic","files","imagePreview","URL","createObjectURL","submitHandler","preventDefault","form_data","FormData","append","props","createUser","render","errorMessage","errorMessage2","loading","redirect","hideSignUp","ImgPreview","wrapper","CreateUserForm","formInput","color","submitDiv","submitBtn","mapStateToProps","redirectPath","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport classes from \"./CreateUser.module.css\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\n\nclass CreateUser extends Component {\n  state = {\n    email: null,\n    username: null,\n    full_name: null,\n    title: null,\n    password: null,\n    password2: null,\n    bio: null,\n    error: false,\n    showHideSignUpButton: false,\n  };\n\n  handleChange = (event) => {\n    let formValues = this.state;\n    let name = event.target.name;\n    let value = event.target.value;\n    formValues[name] = value;\n    this.setState({ formValues });\n\n    if (this.state.password !== this.state.password2) {\n      this.setState({ error: true });\n    } else this.setState({ error: false });\n  };\n\n  handleImageChange = (e) => {\n    this.setState({\n      profile_pic: e.target.files[0],\n      imagePreview: URL.createObjectURL(e.target.files[0]),\n    });\n  };\n\n  submitHandler = (event) => {\n    event.preventDefault();\n    if (this.state.password !== this.state.password2) {\n      return;\n    }\n\n    let form_data = new FormData();\n    form_data.append(\"email\", this.state.email);\n    form_data.append(\"username\", this.state.username);\n\n    if (this.state.full_name)\n      form_data.append(\"full_name\", this.state.full_name);\n\n    if (this.state.title) form_data.append(\"title\", this.state.title);\n    form_data.append(\"password\", this.state.password);\n\n    if (this.state.bio) form_data.append(\"bio\", this.state.bio);\n\n    if (this.state.profile_pic)\n      form_data.append(\"profile_pic\", this.state.profile_pic);\n    this.props.createUser(form_data);\n  };\n\n  render() {\n    let errorMessage;\n    if (this.state.error) {\n      errorMessage = <span>Passwords do not match</span>;\n    }\n\n    let errorMessage2;\n\n    if (this.props.loading) {\n      errorMessage2 = (\n        <Spinner />\n      );\n    }\n\n    if (this.props.error) {\n      errorMessage2 = <span>{this.props.error}</span>;\n    } else if (this.props.redirect) {\n      errorMessage2 = (\n        <span className={classes.errorMessage} onClick={this.props.hideSignUp}>\n          Success! <NavLink to=\"#\">Go to login</NavLink>\n        </span>\n      );\n    }\n\n    let redirect = null;\n    if (this.props.redirect) {\n      redirect = <Redirect to={this.props.redirect} />;\n    }\n\n    let imagePreview = null;\n    if (this.state.imagePreview) {\n      imagePreview = (\n        <img\n          src={this.state.imagePreview}\n          alt=\"preview\"\n          className={classes.ImgPreview}\n        />\n      );\n    }\n\n    return (\n      <div className={classes.wrapper}>\n        {redirect}\n        <h1>Sign Up</h1>\n        <form onSubmit={this.submitHandler} className={classes.CreateUserForm}>\n          <input\n            className={classes.formInput}\n            type=\"email\"\n            name=\"email\"\n            required\n            placeholder=\"Email\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <input\n            className={classes.formInput}\n            name=\"username\"\n            required\n            placeholder=\"username\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <input\n            className={classes.formInput}\n            name=\"full_name\"\n            placeholder=\"Full Name\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <input\n            className={classes.formInput}\n            name=\"title\"\n            placeholder=\" Title: Head Chef, Master Cook, etc\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <input\n            className={classes.formInput}\n            type=\"password\"\n            name=\"password\"\n            required\n            placeholder=\"password\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <input\n            className={classes.formInput}\n            type=\"password\"\n            name=\"password2\"\n            required\n            placeholder=\"Confirm Password\"\n            onChange={this.handleChange}\n          />\n          <p style={{ color: \"red\" }}>{errorMessage}</p>\n          <textarea\n            className={classes.formInput}\n            rows=\"6\"\n            name=\"bio\"\n            placeholder=\"A short bio\"\n            onChange={this.handleChange}\n          />\n          <p></p>\n          <label>\n            Profile Pic\n            <br />\n            {imagePreview}\n            <br />\n            <input\n              className={classes.formInput}\n              name=\"profile_pic\"\n              type=\"file\"\n              accept=\"image/png, image/jpeg\"\n              onChange={this.handleImageChange}\n            />\n          </label>\n          <p></p>\n          <div>{errorMessage2}</div>\n          <div className={classes.submitDiv}>\n            <input\n              type=\"submit\"\n              value=\"Submit\"\n              className={classes.submitBtn}\n            ></input>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.createUser.error,\n    redirect: state.createUser.redirectPath,\n    loading: state.createUser.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createUser: (data) => dispatch(actions.createUser(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUser);\n"]},"metadata":{},"sourceType":"module"}