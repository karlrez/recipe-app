{"ast":null,"code":"import axios from '../../axios';\nimport * as actionTypes from './actionTypes';\nexport const createRecipe = (data, token) => {\n  return dispatch => {\n    dispatch(createRecipeStart());\n    const url = 'recipes/create-recipe';\n    const header = {\n      headers: {\n        Authorization: 'Token ' + token,\n        'content-type': 'multipart/form-data'\n      }\n    };\n    console.log(token);\n    axios.post(url, data, header).then(response => {\n      console.log(\"createRecipe: \\n\" + JSON.stringify(response.data));\n      dispatch(createRecipeSuccess(response.data));\n    }).catch(err => {\n      //console.log(err.response); //more detailed error info\n      //console.log(err.response.request.responseText);\n      console.log(err.response);\n      dispatch(createRecipeFail(err.response.responseText));\n    });\n  };\n};\nexport const createRecipeStart = () => {\n  return {\n    type: actionTypes.CREATE_RECIPE_START\n  };\n};\nexport const createRecipeSuccess = data => {\n  return {\n    type: actionTypes.CREATE_RECIPE_SUCCESS,\n    recipes: data\n  };\n};\nexport const createRecipeFail = error => {\n  return {\n    type: actionTypes.CREATE_RECIPE_FAIL,\n    loading: false,\n    error: error\n  };\n};\nexport const addAnotherRecipe = () => {\n  return {\n    type: actionTypes.ADD_ANOTHER_RECIPE,\n    loading: false,\n    error: null,\n    showSuccess: false\n  };\n};","map":{"version":3,"sources":["/home/karl/vscode/recipe-app/src/store/actions/createRecipe.js"],"names":["axios","actionTypes","createRecipe","data","token","dispatch","createRecipeStart","url","header","headers","Authorization","console","log","post","then","response","JSON","stringify","createRecipeSuccess","catch","err","createRecipeFail","responseText","type","CREATE_RECIPE_START","CREATE_RECIPE_SUCCESS","recipes","error","CREATE_RECIPE_FAIL","loading","addAnotherRecipe","ADD_ANOTHER_RECIPE","showSuccess"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAGA,OAAO,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACzC,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACA,UAAMC,GAAG,GAAG,uBAAZ;AACA,UAAMC,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,WAAWN,KADrB;AAEL,wBAAgB;AAFX;AADE,KAAf;AAKAO,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACAJ,IAAAA,KAAK,CAACa,IAAN,CAAWN,GAAX,EAAgBJ,IAAhB,EAAsBK,MAAtB,EACKM,IADL,CACUC,QAAQ,IAAI;AACdJ,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBI,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACZ,IAAxB,CAAjC;AACAE,MAAAA,QAAQ,CAACa,mBAAmB,CAACH,QAAQ,CAACZ,IAAV,CAApB,CAAR;AACH,KAJL,EAKKgB,KALL,CAKWC,GAAG,IAAI;AACV;AACA;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACL,QAAhB;AACAV,MAAAA,QAAQ,CAACgB,gBAAgB,CAACD,GAAG,CAACL,QAAJ,CAAaO,YAAd,CAAjB,CAAR;AACH,KAVL;AAWH,GApBD;AAqBH,CAtBM;AAwBP,OAAO,MAAMhB,iBAAiB,GAAG,MAAM;AACnC,SAAO;AACHiB,IAAAA,IAAI,EAAEtB,WAAW,CAACuB;AADf,GAAP;AAGH,CAJM;AAMP,OAAO,MAAMN,mBAAmB,GAAIf,IAAD,IAAU;AACzC,SAAO;AACHoB,IAAAA,IAAI,EAAEtB,WAAW,CAACwB,qBADf;AAEHC,IAAAA,OAAO,EAAEvB;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMkB,gBAAgB,GAAIM,KAAD,IAAW;AACvC,SAAO;AACHJ,IAAAA,IAAI,EAAEtB,WAAW,CAAC2B,kBADf;AAEHC,IAAAA,OAAO,EAAE,KAFN;AAGHF,IAAAA,KAAK,EAAEA;AAHJ,GAAP;AAKH,CANM;AAQP,OAAO,MAAMG,gBAAgB,GAAG,MAAM;AAClC,SAAO;AACHP,IAAAA,IAAI,EAAEtB,WAAW,CAAC8B,kBADf;AAEHF,IAAAA,OAAO,EAAE,KAFN;AAGHF,IAAAA,KAAK,EAAE,IAHJ;AAIHK,IAAAA,WAAW,EAAE;AAJV,GAAP;AAMH,CAPM","sourcesContent":["import axios from '../../axios';\nimport * as actionTypes from './actionTypes';\n\n\nexport const createRecipe = (data, token) => {\n    return dispatch => {\n        dispatch(createRecipeStart());\n        const url = 'recipes/create-recipe'\n        const header = {\n            headers: {\n                Authorization: 'Token ' + token,\n                'content-type': 'multipart/form-data' }\n        }\n        console.log(token);\n        axios.post(url, data, header)\n            .then(response => {\n                console.log(\"createRecipe: \\n\" + JSON.stringify(response.data));\n                dispatch(createRecipeSuccess(response.data));\n            })\n            .catch(err => {\n                //console.log(err.response); //more detailed error info\n                //console.log(err.response.request.responseText);\n                console.log(err.response);\n                dispatch(createRecipeFail(err.response.responseText));\n            });\n    };\n};\n\nexport const createRecipeStart = () => {\n    return {\n        type: actionTypes.CREATE_RECIPE_START\n    };\n};\n\nexport const createRecipeSuccess = (data) => {\n    return {\n        type: actionTypes.CREATE_RECIPE_SUCCESS,\n        recipes: data\n    };\n};\n\nexport const createRecipeFail = (error) => {\n    return {\n        type: actionTypes.CREATE_RECIPE_FAIL,\n        loading: false,\n        error: error\n    };\n};\n\nexport const addAnotherRecipe = () => {\n    return {\n        type: actionTypes.ADD_ANOTHER_RECIPE,\n        loading: false,\n        error: null,\n        showSuccess: false,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}