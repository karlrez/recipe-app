{"ast":null,"code":"var _jsxFileName = \"/home/karl/vscode/recipe-app/client/src/Components/Home/Home.js\";\nimport React, { Component } from \"react\";\nimport Aux from \"../../UI/AuxFolder/Auxiliary\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\nimport * as actionTypes from \"../../store/actions/actionTypes\";\nimport Posts from \"../Posts/Posts\"; // import classes from \"./Home.module.css\";\n\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: null\n    };\n\n    this.usernameHandleClick = e => {\n      e.preventDefault();\n      let redirectPath = \"/user/\" + e.target.value;\n      this.setState({\n        redirect: redirectPath\n      });\n    };\n\n    this.likeHandleClick = () => {\n      const getRecipies = () => this.props.getHomeRecipes(this.props.token);\n\n      setTimeout(function () {\n        getRecipies();\n      }, 300);\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.sp !== 1) {\n      this.props.selectHomePage();\n    }\n\n    if (!this.props.token) {\n      this.setState({\n        redirect: \"/login\"\n      });\n    }\n\n    if (this.props.token) {\n      this.props.getHomeRecipes(this.props.token);\n      this.props.getProfileInfo(this.props.token);\n    }\n  } // Called when a username is clicked\n\n\n  render() {\n    let redirect = null;\n\n    if (this.state.redirect) {\n      redirect = /*#__PURE__*/React.createElement(Redirect, {\n        to: this.state.redirect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 18\n        }\n      });\n    }\n\n    let posts = null;\n\n    if (!this.props.homeRecipes.loaded) {\n      posts = /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      });\n    } else {\n      if (this.props.homeRecipes.recipes.count > 0) {\n        posts = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }\n        }, \"Heres what your friends have been cooking...\"), /*#__PURE__*/React.createElement(Posts, {\n          postType: \"homeRecipes\",\n          onClick: e => this.usernameHandleClick(e),\n          onLikeBtnClick: e => this.likeHandleClick(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }\n        }));\n      } else {\n        posts = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }\n        }, \"Follow some friends to see what they are cooking!\");\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(Aux, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, redirect, this.props.username ? /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, \"Hello \", this.props.username, \"!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 41\n      }\n    })) : null, posts);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    sp: state.navbar.selectedPage,\n    token: state.auth.token,\n    homeRecipes: state.homeRecipes,\n    username: state.profileInfo.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectHomePage: () => dispatch({\n      type: actionTypes.HOME_PAGE\n    }),\n    getHomeRecipes: token => dispatch(actions.homeRecipes(token)),\n    getProfileInfo: token => dispatch(actions.profileInfo(token))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/karl/vscode/recipe-app/client/src/Components/Home/Home.js"],"names":["React","Component","Aux","connect","actions","actionTypes","Posts","Redirect","Spinner","Home","state","redirect","usernameHandleClick","e","preventDefault","redirectPath","target","value","setState","likeHandleClick","getRecipies","props","getHomeRecipes","token","setTimeout","componentDidMount","sp","selectHomePage","getProfileInfo","render","posts","homeRecipes","loaded","recipes","count","username","mapStateToProps","navbar","selectedPage","auth","profileInfo","mapDispatchToProps","dispatch","type","HOME_PAGE"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Aux from \"../../UI/AuxFolder/Auxiliary\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index\";\nimport * as actionTypes from \"../../store/actions/actionTypes\";\nimport Posts from \"../Posts/Posts\";\n// import classes from \"./Home.module.css\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\n\nclass Home extends Component {\n  state = {\n    redirect: null,\n  };\n\n  componentDidMount() {\n    if (this.props.sp !== 1) {\n      this.props.selectHomePage();\n    }\n\n    if (!this.props.token) {\n      this.setState({ redirect: \"/login\" });\n    }\n\n    if (this.props.token) {\n      this.props.getHomeRecipes(this.props.token);\n      this.props.getProfileInfo(this.props.token);\n    }\n  }\n\n  // Called when a username is clicked\n  usernameHandleClick = (e) => {\n    e.preventDefault();\n    let redirectPath = \"/user/\" + e.target.value;\n    this.setState({ redirect: redirectPath });\n  };\n\n  // Reloading recipes when like button is clicked (to show like is incremented)\n  likeHandleClick = () => {\n    const getRecipies = () => this.props.getHomeRecipes(this.props.token);\n    setTimeout(function () {\n      getRecipies();\n    }, 300);\n  };\n\n  render() {\n    let redirect = null;\n    if (this.state.redirect) {\n      redirect = <Redirect to={this.state.redirect} />;\n    }\n\n    let posts = null;\n    if (!this.props.homeRecipes.loaded) {\n      posts = <Spinner />;\n    } else {\n      if (this.props.homeRecipes.recipes.count > 0) {\n        posts = (\n          <div>\n            <h3>Heres what your friends have been cooking...</h3>\n            <Posts\n              postType=\"homeRecipes\"\n              onClick={(e) => this.usernameHandleClick(e)}\n              onLikeBtnClick={(e) => this.likeHandleClick(e)}\n            />\n          </div>\n        );\n      } else {\n        posts = <div>Follow some friends to see what they are cooking!</div>;\n      }\n    }\n\n    return (\n      <Aux>\n        {redirect}\n        {this.props.username ? (\n          <h3>\n            Hello {this.props.username}!<br />\n          </h3>\n        ) : null}\n        {posts}\n      </Aux>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    sp: state.navbar.selectedPage,\n    token: state.auth.token,\n    homeRecipes: state.homeRecipes,\n    username: state.profileInfo.username,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    selectHomePage: () => dispatch({ type: actionTypes.HOME_PAGE }),\n    getHomeRecipes: (token) => dispatch(actions.homeRecipes(token)),\n    getProfileInfo: (token) => dispatch(actions.profileInfo(token)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}